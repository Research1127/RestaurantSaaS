# Setup The Authentication

### File: program.cs
Add `app.UseAuthorization();` in our `program.cs`

```csharp
 app.UseAuthorization();
```
---

### File: WebApplicationBuilderExtensions.cs

Add `builder.Services.AddAuthentication();` in our `WebApplicationBuilderExtensions.cs`
```csharp
builder.Services.AddAuthentication();
```
---

### File: RestaurantsController.cs

Add `[Authorize]` at the top in our `RestaurantsController.cs`
```csharp
namespace Restaurants.Api.Controllers;

[ApiController]
[Route("api/restaurants")]
[Authorize]
```
---

## How to Test

We run the application, then we login using any user and get the bearer token.

After that, we put the token in button `Authorize` in swagger and run any endpoint to see the result.

If we didn't login, then when run in any endpoint it will show the result `unauthenticated`
